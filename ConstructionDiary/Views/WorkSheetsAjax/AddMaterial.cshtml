@model ConstructionDiary.ViewModels.AddMaterialVM
<div class="row">
    <div class="col-md-4">
        <div class="form-group">
            <label class="control-label">Materijal</label>
            <select id ="selectList" asp-for="MaterialId" asp-items="Model.Materials" class="form-control"></select>
        </div>
        <div class="form-group">
            <label class="control-label">Količina</label>
            <input id="amount" class="form-control" />
        </div>

        <div class="form-group">
        </div>
    </div>
</div>
<input id="saveBtn" value="Spremi" class="btn btn-default" />

<script>

    $("#saveBtn").click(function myfunction() {
        var selectedId = $("#selectList").val();
        var selectedText = $("#selectList option:selected").text();
        var amount = $("#amount").val();
        console.log("Add material " + selectedId + " - " + selectedText + " - " + amount);
        AddMaterials(selectedId, amount, selectedText);
        $.get('/WorkSheetsAjax/IndexMaterials', function res(result) { $("#materials").html(result) })

    });

    var material = FindMaterial(@Model.MaterialId);
    if (material !== undefined) {
        var amount = $("#amount").val(material.amount);
    }

</script>
