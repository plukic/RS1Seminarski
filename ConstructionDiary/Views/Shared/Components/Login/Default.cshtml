@model ConstructionDiary.BR.UserLoginModel;
<ul class="nav navbar-nav navbar-right">
    <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown"><b>Login</b> <span class="caret"></span></a>
        <ul id="login-dp" class="dropdown-menu">
            <li>
                <div class="row">
                    <div class="col-md-12">
                        Login
                        <form class="form" role="form" method="post" action="home/login" accept-charset="UTF-8" id="login-nav">
                            <div class="form-group">
                                <label class="sr-only" for="username">Username</label>
                                @Html.TextBoxFor(model => model.Username, new { @id="loginUsername", @class = "form-control", @placeholder = "Korisnicko ime" })
                            </div>
                            <div class="form-group">
                                <label class="sr-only" for="password">Password</label>
                                @Html.PasswordFor(model => model.Password, new {@id="loginPassword", @class = "form-control", @placeholder = "Lozinka" })
                            </div>
                            <div class="form-group">
                                <button type="submit" class="btn btn-primary btn-block">Sign in</button>
                            </div>
                            <div id="request-result">
                            </div>

                            <script type="text/javascript">
                                window.onload = function () {
                                    $("#login-nav").submit(function () {
                                        event.preventDefault(); validate();
                                    })

                                    function validate() {
                                        var username = $("#loginUsername");
                                        var password = $("#loginPassword");


                                        applyClass(username);
                                        applyClass(password);
                                    }
                                    function applyClass(view) {
                                        if (view.val() === undefined || view.val() == '')
                                            view.addClass("alert alert-warning");
                                        else
                                            view.removeClass("alert alert-warning");
                                    }
                                    function isValidPassword(password) {
                                        

                                    }
                                    function (var username) {
                                        $.ajax({
                                            url: "/BookDetails/StorageLocations",
                                            data: dataWithAntiforgeryToken,
                                            success: function (data) {
                                                $("#StorageLocations").empty();
                                                data.forEach(function (element) {
                                                    $("#StorageLocations").append("<option>" + element.LocationName + "</option>");
                                                });
                                            },
                                            error: function () {
                                                $("#StorageLocations").empty();
                                            }
                                        });
                                    }
                                }
                            </script>

                        </form>
                    </div>

                </div>
            </li>
        </ul>
    </li>
</ul>



